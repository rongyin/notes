## 数据模型

### 数据坐标
关系型数据库里存储数据使用的是二维坐标系统，分别为行和列。HBase在表里存储数据使用的是四维坐标系统。
* 行键
* 列族
* 列限定符
* 时间版本
#### 表 (table)
HBase用表来组织数据。
#### 行 (row)
在表里，数据按行存储。行由行健 (rowkey) 唯一标识。行健没有数据类型，总是视为字节数组byte[]。
#### 列族 (column family)
行里的数据按照列族分组，列族影响到HBase数据的物理存储。因此，它们需要事前定义且不轻易修改。表中每行拥有相同列族，尽管行不需要在每个列族里存储数据。
#### 列限定符 (column qualifier)
列族里的数据通过列限定符或列来定位。列限定不必预先定义。列限定符不必在不同行之间保持一致。列限定符没有数据类型，总是视为字节数组byte[]。
#### 单元 (cell)
行键，列族和列限定符一起确定一个单元。存储在单元里的数据称为单元值 (value)。值没有数据类型，总是视为字节数组byte[]。
#### 时间版本 (version)
单元值有时间版本。时间版本用时间戳标识，数据类型为long。HBase保留单元值时间版本的数量基于列族进行配置。
***

### 写入工作机制
HBase执行写入时会写到预写式日志 (write-ahead log，也称HLog) 和MemStore。
#### 预写式日志 (WAL)
HBase集群中每台服务器维护一个WAL来记录发生的变化，WAL是底层文件系统的一个文件。
#### MemStore
MemStore是内存里的写入缓冲区，HBase中数据在写入硬盘之前在这里积累。当MemStore填满后，其中的数据会刷写到硬盘，生成一个HFile。在集群的每个节点上，每个列族有一个MemStore。
#### HFile
HFile是HBase使用的底层存储格式。HFile对应于列族，一个列族可以有多个HFile，但一个HFile不能存储多个列族的数据。
***

### 读取工作机制
